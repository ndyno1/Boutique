<!DOCTYPE html>
<html lang="fr" class="font-inter">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViralFlowr | Fast & Secure Marketplace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .bg-custom-orange { background-color: #F07E13; }
        .text-custom-orange { color: #F07E13; }
        /* Animation subtile pour la recherche */
        @keyframes slideText {
            0% { transform: translateY(0); opacity: 1; }
            50% { transform: translateY(-20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .search-animate { animation: slideText 4s infinite ease-in-out; }
    </style>
</head>
<body class="bg-[#F3F3F3] text-[#201B16]">

    <header class="bg-white/90 backdrop-blur-md sticky top-0 w-full z-50 border-b border-gray-200 shadow-sm">
        <div class="max-w-[1240px] mx-auto px-4 py-3 flex items-center justify-between gap-4">
            <a href="index.html" class="shrink-0">
                <div class="text-xl font-extrabold tracking-tighter">Viral<span class="text-custom-orange">Flowr</span></div>
            </a>

            <div class="relative flex-1 max-w-[636px] hidden md:block">
                <input type="text" id="searchInput" onkeyup="render()" class="w-full h-11 px-5 rounded-full bg-[#F2F4F5] border-none focus:ring-2 focus:ring-[#F07E13] outline-none font-medium transition-all" placeholder="What are you looking for?">
                <button class="absolute right-1.5 top-1.5 bg-custom-orange p-2 rounded-full text-white">
                    <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </button>
            </div>

            <div class="flex items-center gap-4 text-xs font-bold uppercase text-[#767676]">
                <a href="https://wa.me/+243850373991" class="hover:text-black">WhatsApp</a>
                <span class="text-gray-300">/</span>
                <a href="https://t.me/Viralflow" class="hover:text-black">Telegram</a>
            </div>
        </div>
    </header>

    <main class="max-w-[1240px] mx-auto px-4 pt-6">
        
        <section class="grid grid-cols-12 gap-4 mb-10">
            <div class="relative col-span-12 lg:col-span-8 h-[300px] md:h-[400px] rounded-2xl overflow-hidden shadow-lg bg-black">
                <img src="https://content.bsvmarket.com/uploads/banner_hero_20b30c28bd.png" class="absolute inset-0 w-full h-full object-cover opacity-80" alt="Hero">
                <div class="relative z-10 p-8 md:p-12 flex flex-col justify-center h-full text-white">
                    <h1 class="text-3xl md:text-4xl font-extrabold max-w-lg leading-tight mb-4">Buy Gift Cards with Crypto from Trusted Marketplace</h1>
                    <div class="flex gap-4">
                        <a href="#catalogue" class="bg-custom-orange px-6 py-3 rounded-lg font-bold hover:scale-105 transition-transform">Explore catalogue</a>
                    </div>
                </div>
            </div>
            
            <div class="col-span-12 lg:col-span-4 grid grid-cols-2 lg:grid-cols-1 gap-3">
                <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4">
                    <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-bold">1M+</div>
                    <div class="text-xs font-bold text-gray-500">Cards sold monthly</div>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold">10+</div>
                    <div class="text-xs font-bold text-gray-500">Years of experience</div>
                </div>
            </div>
        </section>

        <section class="mb-8 overflow-x-auto no-scrollbar flex gap-2 pb-2" id="catNav">
            <button onclick="filterCat('all', this)" class="cat-btn active px-5 py-2.5 rounded-full bg-white text-xs font-bold shadow-sm border border-transparent hover:border-custom-orange transition-all whitespace-nowrap">âš¡ ALL PRODUCTS</button>
            <button onclick="filterCat('Abonnement', this)" class="cat-btn px-5 py-2.5 rounded-full bg-white text-xs font-bold shadow-sm border border-transparent hover:border-custom-orange transition-all whitespace-nowrap">ðŸ“º ABONNEMENTS</button>
            <button onclick="filterCat('Carte2', this)" class="cat-btn px-5 py-2.5 rounded-full bg-white text-xs font-bold shadow-sm border border-transparent hover:border-custom-orange transition-all whitespace-nowrap">ðŸ’³ GIFT CARDS</button>
            <button onclick="filterCat('IMEI', this)" class="cat-btn px-5 py-2.5 rounded-full bg-white text-xs font-bold shadow-sm border border-transparent hover:border-custom-orange transition-all whitespace-nowrap">ðŸ“± IMEI SERVICES</button>
            <button onclick="filterCat('Boost', this)" class="cat-btn px-5 py-2.5 rounded-full bg-white text-xs font-bold shadow-sm border border-transparent hover:border-custom-orange transition-all whitespace-nowrap">ðŸš€ SMM BOOST</button>
        </section>

        <h2 class="text-xl font-extrabold mb-6">Popular categories</h2>
        <div id="product-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-20">
            <div class="col-span-full text-center py-20 text-gray-400 font-bold">Loading Elite Services...</div>
        </div>

    </main>

    <footer class="bg-white py-12 border-t border-gray-200">
        <div class="max-w-[1240px] mx-auto px-4 text-center">
            <div class="text-xl font-black mb-4">Viral<span class="text-custom-orange">Flowr</span></div>
            <p class="text-[10px] text-gray-400 max-w-md mx-auto leading-relaxed">Â© 2026 ViralFlowr Marketplace. All product names are trademarks of their respective companies. Fast and secure delivery guaranteed.</p>
        </div>
    </footer>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyCvuy-WiLMlAkBb7k6YyPVMk4lQhGGke05heSWSw--twKE2L-oVSOs884g3jn6lt6m/exec";
        
        let ALL_PRODUCTS = [];
        let CURRENT_FILTER = "all";

        const FILTER_MAP = {
            "Abonnement": ["Abonnement", "Carte"],
            "Carte2": ["Carte2"],
            "Boost": ["Boost", "Boost2", "SMM1"]
        };

        // Charger les produits
        async function loadProducts() {
            const script = document.createElement('script');
            script.src = `${SCRIPT_URL}?action=get_products&callback=display`;
            document.body.appendChild(script);
        }

        window.display = function(data) {
            ALL_PRODUCTS = data;
            render();
        };

        function render() {
            const grid = document.getElementById('product-grid');
            const query = document.getElementById('searchInput').value.toLowerCase();

            const filtered = ALL_PRODUCTS.filter(p => {
                const matchCat = CURRENT_FILTER === "all" || 
                                (FILTER_MAP[CURRENT_FILTER] ? FILTER_MAP[CURRENT_FILTER].includes(p.cat) : p.cat === CURRENT_FILTER);
                const matchSearch = p.nom.toLowerCase().includes(query);
                return matchCat && matchSearch;
            });

            if (filtered.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-10 font-bold text-gray-400">No services found.</div>';
                return;
            }

            grid.innerHTML = filtered.map(p => {
                const img = p.img || 'https://cdn-icons-png.flaticon.com/512/11520/11520110.png';
                return `
                    <a href="paiement.html?nom=${encodeURIComponent(p.nom)}&prix=${p.prix}&cat=${p.cat}&id=${p.id}" class="group bg-white rounded-2xl p-4 shadow-sm hover:shadow-xl transition-all border border-gray-50 flex flex-col relative overflow-hidden">
                        <div class="aspect-square mb-3 overflow-hidden rounded-xl bg-gray-50 flex items-center justify-center p-4">
                            <img src="${img}" class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-300" alt="${p.nom}">
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                        <div class="text-[13px] font-bold leading-tight h-8 overflow-hidden mb-2">${p.nom}</div>
                        <div class="mt-auto flex items-center justify-between">
                            <span class="text-custom-orange font-black text-lg">$${parseFloat(p.prix).toFixed(2)}</span>
                            <div class="bg-custom-orange text-white p-1 rounded-full">
                                <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
                            </div>
                        </div>
                    </a>
                `;
            }).join('');
        }

        function filterCat(cat, btn) {
            document.querySelectorAll('.cat-btn').forEach(b => {
                b.classList.remove('bg-custom-orange', 'text-white', 'active');
                b.classList.add('bg-white', 'text-[#767676]');
            });
            btn.classList.add('bg-custom-orange', 'text-white', 'active');
            btn.classList.remove('bg-white', 'text-[#767676]');
            CURRENT_FILTER = cat;
            render();
        }

        // Init
        loadProducts();
    </script>
</body>
</html>
